---
import Layout from "../layouts/Layout.astro";
import Header from "../components/Header.astro";
import InformacionFacultad from "../components/InformacionFacultad.astro";
import Footer from "../components/Footer.astro";
import Navbar from "../components/Navbar.astro";
import type { CustomUser } from "../../auth.config";
import { getSession } from "auth-astro/server";
import InformacionUsuario from "@/components/InformacionUsuario.astro";
import ContenedorInfo from "@/components/ContenedorInfo.astro";

const session = await getSession(Astro.request);
let esAdmin =false;

if (session && session.user) {
      const user = session.user as CustomUser;
    const rol = user.rol?.toUpperCase();
    if (rol === "ADMINISTRADOR" || rol === "MASTER") {
       esAdmin= true;
    } 
}

---

<Layout>
    <Header />
    <Navbar />
    <InformacionFacultad
        tituloFacultad="Facultad de Ciencias de la Computación"
        tituloDescripcion="Descripción"
        contenidoDescripcion="Computación y la tecnología. Ofrecemos programas de grado y posgrado que combinan teoría y práctica, preparando a nuestros estudiantes para enfrentar los desafíos del mundo digital."
        imagenDescripcion="https://images.unsplash.com/photo-1519389950473-47ba0277781c?auto=format&fit=crop&w=800&q=80"
        tituloMision="Misión"
        contenidoMision="Buscamos fomentar un ambiente académico que promueva la investigación, el aprendizaje continuo y el trabajo colaborativo."
        imagenMision="https://images.unsplash.com/photo-1461749280684-dccba630e2f6?auto=format&fit=crop&w=800&q=80"
        tituloVision="Visión"
        contenidoVision="Aspiramos a formar profesionales que impacten positivamente en la sociedad a través de la tecnología."
        imagenVision="https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=800&q=80"
        admin={esAdmin}
    />
    <Footer />
</Layout>
